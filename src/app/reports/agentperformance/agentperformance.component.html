<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div style="margin: 20px 10px 10px 20px;">
        <!-- <a routerLink="/reports/allreports" class="btn btn-outline-default" style="width: 94px;font-size: 13px;color:black;border-radius: 5px;border: 1px solid #cfd7df;background-image: linear-gradient(to bottom,#fff,#f3f5f7);background-image: linear-gradient(to bottom,#fff,#f3f5f7);">
          <b><i class="fas fa-arrow-left"></i> Go Back</b>
         </a> -->
         <h3>Agent Performance</h3>
      </div>
      <div class="card-body">
        <div class="row" style="margin: 0px 10px 0px 10px;">
          <ngx-datatable #table [rows]="agents"  class='material table-striped table-responsive'  [columnMode]="'force'" [loadingIndicator]="loading"  [headerHeight]="50" [footerHeight]="50"
          [rowHeight]="'auto'" [limit]="50" [sorts]="[{prop: 'name', dir: 'desc'}]">

                    <ngx-datatable-column name="Agent" prop="fullname" [width]="350" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                        <a [routerLink]="['/tickets/filters/all-tickets']" [queryParams]="{ ag: row.fullname }"> <span>{{row.fullname}}</span></a>
                      </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Tickets Assigned" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template  let-row="row" let-value="value">
                        <!-- <a [routerLink]="['/tickets/filters/all-tickets']" [queryParams]="{ ag: row.fullname, status: 'Open' }"> <span>{{getopenticketsagent(row.agGuid)}}</span></a> -->
                        <span>{{gettotaltickets(row.agGuid)}}</span>
                      </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Tickets Resolved" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template  let-row="row" let-value="value">
                        <!-- <a [routerLink]="['/tickets/filters/all-tickets']" [queryParams]="{ ag: row.fullname, status: 'Pending' }"> <span>{{getpendingticketsagent(row.agGuid)}}</span></a> -->
                        <span>{{getresolvedtickets(row.agGuid)}}</span>
                      </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Tickets Unresolved" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template  let-row="row" let-value="value">
                        <!-- <a [routerLink]="['/tickets/filters/all-tickets']" [queryParams]="{ ag: row.fullname, status: 'Waiting on Customer' }"> <span>{{getwaitingoncustticketsagent(row.agGuid)}}</span></a> -->
                        <span>{{getunresolvedtickets(row.agGuid)}}</span>
                      </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Resolution Ratio %" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template  let-row="row" let-value="value">
                        <!-- <a [routerLink]="['/tickets/filters/all-tickets']" [queryParams]="{ ag: row.fullname, status: 'Waiting on Third Party' }"> <span>{{getwaitingonthirdticketsagent(row.agGuid)}}</span></a> -->
                        <span>{{getresolvedtickets(row.agGuid) / gettotaltickets(row.agGuid) | percent}}</span>
                      </ng-template>
                    </ngx-datatable-column>

                    <ngx-datatable-column name="Responses" cellClass="d-flex align-items-center">
                      <ng-template ngx-datatable-cell-template  let-row="row" let-value="value">
                        <span>{{ getresponses(row.agGuid) }}</span>
                      </ng-template>
                    </ngx-datatable-column>

          </ngx-datatable>
        </div>

        <br>
        <div style="height: 400px !important;width: 100%;">
          <h4>Graphical View of Agent Performance</h4>
          <ngx-charts-bar-vertical-2d *ngIf="s" class="chart-container" [scheme]="colorScheme" [schemeType]="schemeType" [results]="multi" [gradient]="gradient"
            [xAxis]="showXAxis" [yAxis]="showYAxis" [legend]="showLegend" [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
            [tooltipDisabled]="tooltipDisabled" [xAxisLabel]="'Agents'" [yAxisLabel]="yAxisLabel" [showGridLines]="showGridLines" [barPadding]="barPadding"
            [groupPadding]="20" [roundDomains]="roundDomains" width="200">
          </ngx-charts-bar-vertical-2d>
        </div>
<!--
        <br><br>
        <div style="height: 300px !important;width: 100%;">
          <ngx-charts-advanced-pie-chart *ngIf="piechart" class="chart-container" [scheme]="colorScheme" [results]="single"
            [gradient]="gradient" [tooltipDisabled]="tooltipDisabled">
          </ngx-charts-advanced-pie-chart>
        </div> -->

      </div>
    </div>
  </div>
</div>
